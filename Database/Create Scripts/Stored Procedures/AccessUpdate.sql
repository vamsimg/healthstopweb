/****** Object:  Stored Procedure AccessUpdate - Script Date: Friday, 10 August 2012 ******/
if exists (select * from sysobjects where id = object_id(N'[AccessUpdate]') and OBJECTPROPERTY(id, N'IsProcedure') = 1)
drop procedure [AccessUpdate]
GO


SET QUOTED_IDENTIFIER ON 
GO
SET ANSI_NULLS OFF 
GO

/*------------------------------------------------------------------------
<generated>
     This code was generated by The NuSoft Framework v3.0
     Generated at 10/08/2012 7:48:54 PM.

     The NuSoft Framework is an open source project developed
     by NuSoft Solutions (http://www.nusoftsolutions.com).
     The latest version of the framework templates and detailed license
     is available at http://www.codeplex.com/NuSoftFramework.

     This file will be overwritten when regenerating your code.
</generated>
------------------------------------------------------------------------*/

CREATE PROCEDURE [AccessUpdate]
	@access_id int,
	@company_id int,
	@IPaddress varchar(100),
	@access_type varchar(100),
	@entry_datetime datetime
AS

DECLARE @table TABLE(
	[access_id] int,
	[company_id] int,
	[IPaddress] varchar(100),
	[access_type] varchar(100),
	[entry_datetime] datetime
);

UPDATE [dbo].[Accesses] SET 
	[Accesses].[company_id] = @company_id,
	[Accesses].[IPaddress] = @IPaddress,
	[Accesses].[access_type] = @access_type,
	[Accesses].[entry_datetime] = @entry_datetime 
output 
	INSERTED.[access_id],
	INSERTED.[company_id],
	INSERTED.[IPaddress],
	INSERTED.[access_type],
	INSERTED.[entry_datetime]
into @table
WHERE 
	[Accesses].[access_id] = @access_id

SELECT 
	[access_id],
	[company_id],
	[IPaddress],
	[access_type],
	[entry_datetime] 
FROM @table;


GO

SET QUOTED_IDENTIFIER OFF 
GO
SET ANSI_NULLS ON 
GO


