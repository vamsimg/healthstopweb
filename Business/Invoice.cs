/*------------------------------------------------------------------------
<generated>
     This code was generated by The NuSoft Framework v3.0
     Generated at 15/07/2012 3:36:25 PM.

     The NuSoft Framework is an open source project developed
     by NuSoft Solutions (http://www.nusoftsolutions.com).
     The latest version of the framework templates and detailed license
     is available at http://www.codeplex.com/NuSoftFramework.

     This file will NOT be overwritten when regenerating your code.
</generated>
------------------------------------------------------------------------*/

using System;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Data;
using System.Data.SqlClient;
using System.Text;

using HealthStop.Business.Framework;

namespace HealthStop.Business
{
	/// <summary>
	/// This object represents the properties and methods of a Invoice.
	/// </summary>
	public partial class Invoice : EntityBase
	{
          public static EntityList<Invoice> GetInvoicesByCustomer(int customerID)
          {
               List<SqlParameter> parameters = new List<SqlParameter>();

               parameters.Add(new SqlParameter("@customer_id", customerID));
               string where = "where customer_id = @customer_id";

               EntityList<Invoice> invoices = Invoice.GetInvoices(where, parameters);

               return invoices;
          }

          public static EntityList<Invoice> GetInvoicesForDownloadByCustomer(int customerID)
          {
               List<SqlParameter> parameters = new List<SqlParameter>();

               parameters.Add(new SqlParameter("@customer_id", customerID));
               string where = "where customer_id = @customer_id and is_downloaded = 0";

               EntityList<Invoice> invoices = Invoice.GetInvoices(where, parameters);

               return invoices;
          }

          

          public static EntityList<Invoice> GetInvoicesBySupplier(int supplierID)
          {
               List<SqlParameter> parameters = new List<SqlParameter>();

               parameters.Add(new SqlParameter("@supplier_id", supplierID));
               
               string where = "where customer_id = @customer_id";

               EntityList<Invoice> invoices = Invoice.GetInvoices(where, parameters);

               return invoices;
          }

          public string supplierName
          {
               get
               {
                    return this.supplier_.name;
               }
          }

          public string customerName
          {
               get
               {
                    return this.customer_.name;
               }
          }

          public int itemCount
          {
               get
               {
                    return this.InvoiceItemsByinvoice_.Count;
               }
          }
	}
}
